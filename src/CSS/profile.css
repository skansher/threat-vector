/* --- Filter Section Styles (Existing) --- */

.filter-section { 
  display: flex !important;
  gap: 20px; 
  justify-content: center; 
  align-items: flex-end; 
  margin-bottom: 40px; 
  padding: 25px; 
  background-color: #0E1517; 
  border-radius: 16px; 
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15); 
  flex-wrap: wrap;
  font-family: monospace; 
}

/* Individual Filter */ 
.filter { 
  display: flex; 
  flex-direction: column; 
  gap: 8px; 
  min-width: 200px; 
} 

.filter label { 
  font-size: 0.9rem; 
  font-weight: 600; 
  color: #ffffff; 
  text-transform: uppercase; 
  letter-spacing: 0.5px; 
}
  
/* Dropdown Select */ 
.filter select { 
  padding: 12px 16px; 
  font-size: 1rem; 
  font-family: inherit; 
  border: 2px solid transparent;
  border-radius: 10px; 
  background-color: #ffffff; 
  color: #333; 
  cursor: pointer; 
  transition: all 0.3s ease; 
  appearance: none; 
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23333' d='M6 9L1 4h10z'/%3E%3C/svg%3E"); 
  background-repeat: no-repeat; 
  background-position: right 12px center; 
  padding-right: 40px; 
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); 
} 
  
.filter select:hover { 
  border-color: #006C67; 
  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2); 
} 

.filter select:focus { 
  outline: none; 
  border-color: #006C67; 
  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2); 

}
/* Select options styling */ 
.filter select option {
   padding: 10px; 
   background-color: #ffffff; 
   color: #333; 
}

/* --- Card Container Styles --- */

/* Default Grid Layout for Collapsed Cards */
.card-container {
display: grid;
grid-template-columns: repeat(4, 1fr);
gap: 40px;
margin-top: 20px;
width: 100%; 
}

.card-container .threat-card {
width: 90%;
max-width: 300px;
justify-self: center;
margin: 0 !important;
}

/* CRITICAL FIX: Expanded Layout Switch */
.card-container.expanded-layout {
  /* Override grid and switch to flex column */
  display: flex; 
  flex-direction: column;
  /* This ensures the full-width expanded card is centered */
  align-items: center; 
  /* Remove gaps that interfere with full-width rendering */
  gap: 0; 
  width: 100%; 
  margin: 0 auto;
}

/* When the container is in expanded mode, ensure all children 
 (both expanded and collapsed) stack vertically correctly */
.expanded-layout .threat-card,
.expanded-layout .threat-card-expanded {
  /* The expanded card (threat-card-expanded) gets its 100% width from its own CSS, 
     but this ensures other collapsed cards stack correctly beneath it. */
  width: 95%; /* Use 95% width to give some margin from the edge */
  max-width: 1000px; /* Optional: Sets a reasonable maximum width for the expanded content */
  margin: 20px 0; /* Add back vertical margin between items */
}


/* --- Responsive Breakpoints (Existing) --- */

@media (max-width: 1200px) {
.card-container {
  grid-template-columns: repeat(3, 1fr);
}
}

@media (max-width: 992px) { 
.card-container {
  grid-template-columns: repeat(2, 1fr);
}
}

@media (max-width: 768px) {
.filter-section {
  flex-direction: column;
  align-items: stretch;
}

.filter {
  width: 100%;
}

.card-container {
  grid-template-columns: 1fr;
}
}

/* --- Button Styles (Existing) --- */

.reset-button {
padding: 12px 24px;
font-size: 1rem;
font-weight: 600;
font-family: inherit;
border: 2px solid #ffffff;
border-radius: 10px;
background-color: rgba(255, 255, 255, 0.2);
color: #ffffff;
cursor: pointer;
transition: all 0.3s ease;
box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.reset-button:hover {
background-color: #ffffff;
color: #4E727E;
box-shadow: 0 4px 12px rgba(255, 255, 255, 0.3);
}

.reset-button:active {
transform: scale(0.98);
}